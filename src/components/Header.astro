---
const { pathname } = Astro.url;

const links = [
  { href: "/", label: "Home" },
  { href: "/about", label: "About Us" },
  { href: "/market", label: "Market Info" },
  { href: "/newsletters", label: "Newsletters" },
  { href: "/faqs", label: "FAQ's & Endorsements" },
  { href: "/client-access", label: "Client Access" },
  { href: "/careers", label: "Careers" },
  { href: "/contact", label: "Contact Us" },
];

const isActive = (href: string) => {
  if (href === "/") return pathname === "/";
  return pathname.startsWith(href);
};
---

<header class="border-b border-slate-200 bg-white">
  <div class="container">
    <div class="flex flex-col gap-3 py-1 sm:flex-row sm:items-center sm:justify-between">
      <!-- Brand -->
      <a href="/" class="inline-flex items-center gap-3">
        <img
          src="/images/Logo.jpg"
          alt="Financial Decisions logo"
          class="ml-2 h-32 w-32 rounded-sm object-contain"
          width="128"
          height="128"
          loading="eager"
          decoding="async"
        />
      </a>

      <!-- Nav -->
      <nav aria-label="Primary">
        <ul class="flex flex-wrap items-center gap-x-5 gap-y-2 text-base">
          {links.map((l) => (
            <li>
              <a
                href={l.href}
                class:list={[
                  "rounded-md px-2 py-1 transition",
                  "text-slate-700 hover:text-slate-900 hover:bg-slate-50",
                  isActive(l.href) && "text-slate-900 bg-slate-100",
                ]}
                aria-current={isActive(l.href) ? "page" : undefined}
              >
                {l.label}
              </a>
            </li>
          ))}
        </ul>
      </nav>
    </div>
  </div>
</header>
